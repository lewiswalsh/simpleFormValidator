(function(e){e.fn.extend({simpleFormValidator:function(t){var n={toolTipClassName:"myFormValidatorTooltip",toolTipIdPrefix:"myFormValidatorTooltip-",toolTipOffsetTop:5,toolTipMarginLeft:17,triangleOffsetTop:3,toolTipColour:"#fff",toolTipBackground:"#555",toolTipOpacity:80};var t=e.extend(n,t);return this.each(function(){function f(){var t=0;e.each(i,function(n,r){var i=e("[name="+n+"]");var s=i.position();var u=i.width();var a={message:"",id:t,top:s.top,left:s.left+u};e.each(r,function(e,t){a.message+=t+"<br/>"});o.show(a);t++})}function l(t){i={};e(t).find("*").filter(":input[required]").each(function(){var t={};t.val=e(this).val();t.empty=u.isEmpty(t.val);t.name=e(this).attr("name");if(typeof e(this).attr("data-datatype")!=="undefined"){t.type=e(this).attr("data-datatype").toLowerCase()}else{t.type=typeof e(this).attr("type")==="undefined"?e(this).prop("tagName").toLowerCase():e(this).attr("type").toLowerCase()}var n=e('label[for="'+e(this).attr("id")+'"]');if(n.length<=0){var r=e(this).parent();var i=r.get(0).tagName.toLowerCase();if(i=="label"){t.label=r.html()}}else{t.label=n.html()}if(t.empty){u.addError(t.name,u.capitaliseString(t.name)+" must not be empty.")}switch(t.type){case"email":if(!a.validateEmail(t.val)){u.addError(t.name,"Email address is not good.")}break;case"number":if(!a.validateNumber(t.val)){u.addError(t.name,"This must be a number.")}break;case"select":if(!a.validateSelect(this)){u.addError(t.name,"Please select an option.")}break}console.log(t)})}var n=t;var r=e(this);var i={};e(r).attr("novalidate",true);var s="<style type='text/css'> ";s+="."+n.toolTipClassName+" { z-index: 79; text-align: left; font-size: 11px; padding: 10px; background: "+n.toolTipBackground+"; position: absolute; color: "+n.toolTipColour+"; opacity: "+parseInt(n.toolTipOpacity,10)/100+"; }";s+="."+n.toolTipClassName+":after { content: ''; position: absolute; top: "+(n.toolTipOffsetTop+n.triangleOffsetTop)+"px; right: 100%; margin-top: -8px; width: 0; height: 0; border-right: 8px solid "+n.toolTipBackground+"; border-top: 8px solid transparent; border-bottom: 8px solid transparent; opacity: "+parseInt(n.toolTipOpacity,10)/100+"; }";s+="</style>";e(s).appendTo("head");var o={stripLastBr:function(e){return e.substring(0,e.length-5)},show:function(t){var r=n.toolTipIdPrefix+t.id;e(document.body).append("<div id='"+r+"' class='"+n.toolTipClassName+"'>"+this.stripLastBr(t.message)+"</div>");e("#"+r).parent().css({position:"relative"});e("#"+r).css({top:t.top+n.toolTipOffsetTop,left:t.left+n.toolTipMarginLeft,position:"absolute"})}};var u={isEmpty:function(t){return e.trim(t)==""?true:false},addError:function(e,t){if(!(e in i)){i[e]=[]}i[e].push(t)},capitaliseString:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},clearOldToolTips:function(){e("."+n.toolTipClassName).remove()}};var a={validateEmail:function(e){var t=/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;return t.test(e)?true:false},validateNumber:function(e){return!isNaN(e)?true:false},validateSelect:function(t){return typeof e("option:selected",t).attr("notme")==="undefined"?true:false}};e(window).on("resize",function(){u.clearOldToolTips();if(!e.isEmptyObject(i)){f()}});e(r).submit(function(t){t.preventDefault();u.clearOldToolTips();l(this);if(!e.isEmptyObject(i)){t.preventDefault();f()}})})}})})(jQuery)