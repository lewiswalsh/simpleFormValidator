(function(a){a.fn.extend({simpleFormValidator:function(b){var c={toolTipClassName:"myFormValidatorTooltip",toolTipIdPrefix:"myFormValidatorTooltip-",toolTipOffsetTop:5,toolTipMarginLeft:17,triangleOffsetTop:3,toolTipColour:"#fff",toolTipBackground:"#555",toolTipOpacity:80};var b=a.extend(c,b);return this.each(function(){var e=b;var g=a(this);var k={};a(g).attr("novalidate",true);var j="<style type='text/css'> ";j+="."+e.toolTipClassName+" { z-index: 79; text-align: left; font-size: 11px; padding: 10px; background: "+e.toolTipBackground+"; position: absolute; color: "+e.toolTipColour+"; opacity: "+(parseInt(e.toolTipOpacity,10)/100)+"; }";j+="."+e.toolTipClassName+":after { content: ''; position: absolute; top: "+(e.toolTipOffsetTop+e.triangleOffsetTop)+"px; right: 100%; margin-top: -8px; width: 0; height: 0; border-right: 8px solid "+e.toolTipBackground+"; border-top: 8px solid transparent; border-bottom: 8px solid transparent; }";j+="</style>";a(j).appendTo("head");var l={stripLastBr:function(m){return m.substring(0,(m.length-5))},show:function(m){var n=e.toolTipIdPrefix+m.id;a(document.body).append("<div id='"+n+"' class='"+e.toolTipClassName+"'>"+this.stripLastBr(m.message)+"</div>");a("#"+n).parent().css({position:"relative"});a("#"+n).css({top:m.top+e.toolTipOffsetTop,left:m.left+e.toolTipMarginLeft,position:"absolute"})}};var d={isEmpty:function(m){return(a.trim(m)==""?true:false)},addError:function(m,n){if(!(m in k)){k[m]=[]}k[m].push(n)},capitaliseString:function(m){return m.charAt(0).toUpperCase()+m.slice(1)},clearOldToolTips:function(){a("."+e.toolTipClassName).remove()}};var f={validateEmail:function(m){var n=/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;return(n.test(m)?true:false)},validateNumber:function(m){return(!isNaN(m)?true:false)},validateSelect:function(m){return(typeof a("option:selected",m).attr("notme")==="undefined"?true:false)}};function h(){var m=0;a.each(k,function(p,r){var s=a("[name="+p+"]");var n=s.position();var q=s.width();var o={message:"",id:m,top:n.top,left:n.left+q};a.each(r,function(u,t){o.message+=t+"<br/>"});l.show(o);m++})}function i(m){k={};a(m).find("*").filter(":input[required]").each(function(){var q={};q.val=a(this).val();q.empty=d.isEmpty(q.val);q.name=a(this).attr("name");if(typeof a(this).attr("data-datatype")!=="undefined"){q.type=a(this).attr("data-datatype").toLowerCase()}else{q.type=(typeof a(this).attr("type")==="undefined"?a(this).prop("tagName").toLowerCase():a(this).attr("type").toLowerCase())}var p=a('label[for="'+a(this).attr("id")+'"]');if(p.length<=0){var n=a(this).parent();var o=n.get(0).tagName.toLowerCase();if(o=="label"){q.label=n.html()}}else{q.label=p.html()}if(q.empty){d.addError(q.name,d.capitaliseString(q.name)+" must not be empty.")}switch(q.type){case"email":if(!f.validateEmail(q.val)){d.addError(q.name,"Email address is not good.")}break;case"number":if(!f.validateNumber(q.val)){d.addError(q.name,"This must be a number.")}break;case"select":if(!f.validateSelect(this)){d.addError(q.name,"Please select an option.")}break}console.log(q)})}a(window).on("resize",function(){d.clearOldToolTips();if(!a.isEmptyObject(k)){h()}});a(g).submit(function(m){m.preventDefault();d.clearOldToolTips();i(this);if(!a.isEmptyObject(k)){m.preventDefault();h()}})})}})})(jQuery);